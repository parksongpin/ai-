<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Music Mood - ë‹¹ì‹ ì˜ ê°ì •ì„ ìŒì•…ìœ¼ë¡œ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/mainstyle.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
        <div class="top-nav">
            <div class="user-info">
                <div class="level-badge" data-exp="{{ user_data.exp }}" data-level="{{ user_data.level }}">
                    <i class="fas fa-star"></i>
                    Level {{ user_data.level }}
                    <div class="progress-container">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                </div>
                <div class="coin-display">
                    <i class="fas fa-coins"></i>
                    <span id="coin-amount">{{ user_data.coins }}</span>
                </div>
            </div>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">
                <i class="fas fa-sign-out-alt"></i> ë¡œê·¸ì•„ì›ƒ
            </a>
        </div>

        <h1>ğŸµ Music Mood Premium</h1>
        <div class="welcome-message">
            <span style="font-size: 1.2em;">ğŸ‘‹ {{ user_id }}ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤!</span><br>
            í”„ë¦¬ë¯¸ì—„ ìŒì•… ì¶”ì²œ ì„œë¹„ìŠ¤ë¥¼ ê²½í—˜í•´ë³´ì„¸ìš”
        </div>

        <!-- ê¸°ë³¸ ê¸°ëŠ¥ ì„¹ì…˜ -->
        <div class="features">
            <div class="feature-card">
                <i class="fas fa-magic feature-icon"></i>
                <h3>ê¸°ë³¸ ì¶”ì²œ</h3>
                <p>ë¬´ë£Œë¡œ ë‹¹ì‹ ì˜ ê¸°ë¶„ì— ë§ëŠ” ìŒì•…ì„ ì¶”ì²œë°›ìœ¼ì„¸ìš”</p>
                <a href="{{ url_for('survey') }}" class="btn btn-primary">
                    <i class="fas fa-music"></i> ì¶”ì²œ ë°›ê¸°
                </a>
            </div>
            <div class="feature-card">
                <i class="fas fa-history feature-icon"></i>
                <h3>ì¶”ì²œ ê¸°ë¡</h3>
                <p>ì´ì „ì— ì¶”ì²œë°›ì€ ê³¡ë“¤ì„ ë‹¤ì‹œ ë“¤ì–´ë³´ì„¸ìš”</p>
                <a href="{{ url_for('records') }}" class="btn btn-history">
                    <i class="fas fa-list"></i> ê¸°ë¡ ë³´ê¸°
                </a>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // ì‚¬ìš©ì ì •ë³´ ì—…ë°ì´íŠ¸
        function updateUserInfo(data) {
            document.getElementById('coin-amount').textContent = data.coins;
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = `${(data.exp / (data.level * 100)) * 100}%`;
            document.querySelector('.level-badge').innerHTML = `
                <i class="fas fa-star"></i>
                Level ${data.level}
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar" style="width: ${(data.exp / (data.level * 100)) * 100}%"></div>
                </div>
            `;
        }

        // ì´ˆê¸° ì§„í–‰ ë°” ì„¤ì •
        const levelBadge = document.querySelector('.level-badge');
        const exp = levelBadge.dataset.exp;
        const level = levelBadge.dataset.level;
        document.getElementById('progressBar').style.width = `${(exp / (level * 100)) * 100}%`;
    </script>
</body>
</html>